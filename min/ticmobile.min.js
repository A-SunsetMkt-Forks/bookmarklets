javascript:krazete:var turn=Math.random()<1/2?0:1,unit=(innerWidth<innerHeight?innerWidth:innerHeight)/11;function newUnit(){unit=(innerWidth<innerHeight?innerWidth:innerHeight)/11}var menu=document.createElement("div");window.addEventListener("resize",function(){newUnit(),menu.style.height=9*unit+"px",menu.style.width=9*unit+"px"}),menu.style.position="fixed",menu.style.top="50%25",menu.style.left="50%25",menu.style.height=9*unit+"px",menu.style.width=9*unit+"px",menu.style.transform="translate(-50%25,-50%25)",menu.style.webkitTransform="translate(-50%25,-50%25)",menu.style.zIndex=9999,menu.innerHTML="<a style='background:white;position:absolute;left:100%25;cursor:pointer' onClick='menu.remove()'>exit</a>",document.body.appendChild(menu);var board=document.createElement("div");board.style.background="rgba(255,255,255,0.9)",board.style.position="absolute",board.style.top=0,board.style.left=0,board.style.height="100%25",board.style.width="100%25",board.mark=null,menu.appendChild(board),BOXES=[],boxes=[[],[],[],[],[],[],[],[],[]];for(var i=0;3>i;i++)for(var BOX,j=0;3>j;j++){BOX=document.createElement("div"),BOX.style.position="absolute",BOX.style.top=100*i/3+"%25",BOX.style.left=100*j/3+"%25",BOX.style.height="33.333333333333336%25",BOX.style.width="33.333333333333336%25",BOX.mark=null;for(var k=0;3>k;k++)for(var box,l=0;3>l;l++)box=document.createElement("div"),box.setAttribute("onMouseOver","this.style.background='rgba(0,0,0,0.25)'"),box.setAttribute("onMouseOut","this.style.background='transparent'"),box.setAttribute("onClick","pick(this)"),box.style.position="absolute",box.style.top=100*k/3+"%25",box.style.left=100*l/3+"%25",box.style.height="33.333333333333336%25",box.style.width="33.333333333333336%25",box.macro=3*i+j,box.micro=3*k+l,box.mark=null,boxes[3*i+j].push(box),box.style.boxShadow=0==box.macro%252?"0 0 5px black inset":"0 0 5px gray inset",BOX.appendChild(box);BOXES.push(BOX),board.appendChild(BOX)}function check(a){var b=0;null!=a[0].mark&&(a[0].mark==a[1].mark&&a[1].mark==a[2].mark||a[0].mark==a[3].mark&&a[3].mark==a[6].mark)&&(b=1),null!=a[4].mark&&(a[3].mark==a[4].mark&&a[4].mark==a[5].mark||a[1].mark==a[4].mark&&a[4].mark==a[7].mark||a[0].mark==a[4].mark&&a[4].mark==a[8].mark||a[2].mark==a[4].mark&&a[4].mark==a[6].mark)&&(b=1),null!=a[8].mark&&(a[6].mark==a[7].mark&&a[7].mark==a[8].mark||a[2].mark==a[5].mark&&a[5].mark==a[8].mark)&&(b=1),b?marker(a[0].parentNode):null!=a[0].mark&&null!=a[1].mark&&null!=a[2].mark&&null!=a[3].mark&&null!=a[4].mark&&null!=a[5].mark&&null!=a[6].mark&&null!=a[7].mark&&null!=a[8].mark&&draw(a[0].parentNode)}function draw(a){a.mark=2,disable(a),a.style.pointerEvents="none"}function marker(a){if(0==turn){var b=document.createElement("div");b.style.boxSizing="border-box",b.style.position="absolute",b.style.top="10%25",b.style.left="10%25",b.style.height="80%25",b.style.width="80%25";for(var c=0,d=0;9>d;d++)if(a==BOXES[d]){c=1;break}b.style.border=unit*(a==board?9:c?3:1)/5+"px solid black",window.addEventListener("resize",function(){newUnit(),b.style.border=unit*(a==board?9:c?3:1)/5+"px solid black"}),b.style.borderRadius="50%25",a.appendChild(b)}else{var e=document.createElement("div");e.style.boxSizing="border-box",e.style.background="black",e.style.position="absolute",e.style.top="10%25",e.style.left="40%25",e.style.height="80%25",e.style.width="20%25",e.style.transform="rotate(45deg)",e.style.webkitTransform="rotate(45deg)",a.appendChild(e);var f=e.cloneNode();f.style.transform="rotate(-45deg)",f.style.webkitTransform="rotate(-45deg)",a.appendChild(f)}a.mark=turn,disable(a),a.style.pointerEvents="none"}function pick(a){if(marker(a),check(boxes[a.macro]),check(BOXES),turn=0<turn?0:1,null==BOXES[a.micro].mark){for(i=0;9>i;i++)for(var b=0;9>b;b++)disable(boxes[i][b]);for(i=0;9>i;i++)null==board.mark&&enable(boxes[a.micro][i])}else for(i=0;9>i;i++)for(var b=0;9>b;b++)null==board.mark&&enable(boxes[i][b]);disable(a)}function disable(a){a.style.background="rgba(0,0,0,0.25)",a.setAttribute("onMouseOver",""),a.setAttribute("onMouseOut",""),a.setAttribute("onClick","")}function enable(a){null==a.mark&&(a.style.background="transparent"),a.setAttribute("onMouseOver","this.style.background='rgba(0,0,0,0.25)'"),a.setAttribute("onMouseOut","this.style.background='transparent'"),a.setAttribute("onClick","pick(this)")}